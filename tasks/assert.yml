---
- name: test if git_username is set correctly
  assert:
    that:
    quiet: yes
  when:
    - git_username is defined

- name: test if git_groupname is set correctly
  assert:
    that:
    quiet: yes
  when:
    - git_groupname is defined

- name: test if git_user_email is set correctly
  assert:
    that:
    quiet: yes
  when:
    - git_user_email is defined

- name: test if git_user_name is set correctly
  assert:
    that:
    quiet: yes
  when:
    - git_user_name is defined

- name: test if git_repository_destination is set correctly
  assert:
    that:
      - git_repository_destination is defined
    quiet: yes

- name: test if git_force is set correctly
  assert:
    that:
      - git_force is defined
      - git_force is boolean
    quiet: yes

- name: test if git_repositories is set correctly
  assert:
    that:
      - git_repositories is iterable
    quiet: yes
  when:
    - git_repositories is defined

- name: test if item in git_repositories is set correctly
  assert:
    that:
      - item.repo is defined
      - item.dest is defined
    quiet: yes
  loop: "{{ git_repositories }}"
  loop_control:
    label: "{{ item.repo }}"
  when:
    - git_repositories is defined

- name: test if item in git_repositories with version is set correctly
  assert:
    that:
    quiet: yes
  when:
    - git_repositories is defined
    - item.version is defined

- name: test if item in git_repositories with force is set correctly
  assert:
    that:
      - item.version is boolean
    quiet: yes
  when:
    - git_repositories is defined
    - item.force is defined
